<!DOCTYPE html>
<html manifest="cache.manifest">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" />
    <title>Mapping Wikileaks' Cablegate</title>
    <link href="http://fonts.googleapis.com/css?family=Droid+Sans|Droid+Sans+Mono" rel="stylesheet" type="text/css" />
    <link href="html5rocks.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery-1.4.4.min.js" language="javascript"></script>
    <script type="text/javascript" src="html5rocks.js" language="javascript+protovis"></script>
  </head>
  <body>
    <div class="presentation">
      <div id="presentation-counter"></div>
      <div class="slides">
        <div class="slide">
          <section class="middle">
            <header><h2>Mapping Wikileaks' Cablegate topics using Python, MongoDB, Neo4j and Gephi</h2></header>
            <p>FOSDEM's data devroom, Brussels, Feb 5 2011</p>
          </section>
        </div>
        <div class="slide">
          <section>
            <header>
              <h2>Goals</h2>
            </header>
            <ul class="bulleted">
                <li><p>by analysing cables' full-text</p></li>
                <li><p>by using meta-data as they are and not as a structure</p></li>
                <cite><h2>We want to produce a mixed occurrence and co-occurrence network of topics and cables</h2></cite>
                <li><p>in order to visualize how the discussions within the cables are composed and relate to each other</p></li>

            </ul>
          </section>
        </div>
        <div class="slide">
          <section>
            <header>
              <h2>How ?</h2>
            </header>
            <ul class="bulleted">
                <li><p>by analyse the ~2600 full-texts with Python, and a set of productive libraries</p></li>
                <li><p>use MongoDB for document storage and Neo4j for network storage</p></li>
                <li><p>explore the network with Gephi</p></li>
            </ul>
          </section>
        </div>
        <div class="slide">
          <section>
            <header>
              <h2>Import cables to MongoDB</h2>
            </header>
            <ul class="bulleted">
                <li><p>BeautifulSoup : html made easy</p>
                    <ul class="bulleted">
                        <li>automatically decodes to Python's unicode</li>
                        <li>quietly handles html's tree errors</li>
                        <li>traversing methods as Python methods and lists, becoming comparable to Javascript</li>
                        <li>SoupStrainer : tells the parser to target a specific part of the document</li>
                    </ul>
                </p></li>
                <li><p>NLTK : clean_html() and you're done</p>
                    <ul class="bulleted">
                        <li>but still an effort: to handle decoding manually</li>
                        <li>Python provides safe built-in functions to manage that</li>
                    </ul>
                </p></li>
                <li><p>MongoDB : document storage</p>
                    <ul class="bulleted">
                        <li>transparently inserting and reading records as Python dictionaries</li>
                        <li>automatic types serializing/deserializing : unicode, nested lists and dict, datetime...</li>
                    </ul>
                </p></li>
                <li>Hopefully, Wikileak's archive respects simple structure, making data hackers' job easy !</p></li>
            </ul>
          </section>
        </div>

        <div class="slide">
          <section>
            <header>
              <h2>Extract topics (1)</h2>
            </header>
            <ul class="bulleted">
                <li><p>decompose text into tokens : nltk.sent_tokenize and nltk.TreebankWordTokenizer</p></li>
                <li><p>Part of speech tagging with nltk.tag</p>
                    <ul class="bulleted">
                        <li>Compose and save a quality tagger object with <i>nltk-trainer</i></li>
                        <br/>
                        <code>$ python train_tagger.py --sequential aubt  --default "?" conll2000</code>
                        <br/>
                        <li>The <a href="http://nltk.googlecode.com/svn/trunk/doc/api/nltk.tag.sequential.SequentialBackoffTagger-class.html">SequentialBackoffTagger</a>
                          <ul>
                            <li><a href="http://nltk.googlecode.com/svn/trunk/doc/api/nltk.tag.sequential.AffixTagger-class.html">nltk.tag.AffixTagger</a> learns from prefix and suffix patterns</li>
                            <li><a href="http://nltk.googlecode.com/svn/trunk/doc/api/nltk.tag.sequential.UnigramTagger-class.html">nltk.tag.UnigramTagger</a> learns from each letter composing the word</li>
                            <li><a href="http://nltk.googlecode.com/svn/trunk/doc/api/nltk.tag.sequential.BigramTagger-class.html">nltk.tag.BigramTagger</a> also learns from the preceeding word's tag</li>
                            <li><a href="http://nltk.googlecode.com/svn/trunk/doc/api/nltk.tag.sequential.TrigramTagger-class.html">nltk.tag.TrigramTagger</a> also learns also from the preceeding two words' tag</li>
                          </ul>
                        </li>
                    </ul>
                </li>
            </ul>
            <footer>
              <p>
              <a href="https://github.com/japerk/nltk-trainer">https://github.com/japerk/nltk-trainer</a><br/>
              <a href="http://streamhacker.com/2010/04/12/pos-tag-nltk-brill-classifier/">http://streamhacker.com/2010/04/12/pos-tag-nltk-brill-classifier/</a>
              </p>
            </footer>
          </section>
        </div>

        <div class="slide">
          <section>
            <header>
              <h2>Extract topics (2)</h2>
            </header>
            <ul class="bulleted">
                <li><p>Group topics by their radicals</p></li>
                <li><p>stemming: nltk.PorterStemmer</p></li>
                <code>
                >>> print PorterStemmer().stem("language")
                'languag'
                </code>
                <li><p>compute the sha256 to use it as an index</p></li>
            </ul>
          </section>
        </div>

        <div class="slide">
          <section>
            <header>
              <h2>Choose relevant topics</h2>
            </header>
            <ul class="bulleted">
                <li><p>automatic selection of words: a set of DIY and built-in filters</p>
                    <ul class="bulleted">
                        <li>a POS tag regular expression filtering "useless" series of words
                        <code>
^(
    (VB,|VBD,|VBG,|VBN,|CD.?,|JJ.?,|\?,){0,2}?
    (N.?,|\?,)+?
    (CD.,)?
)+?
(
    (PREP.?|DET.?,|IN.?,|CC.?,|\?,)
    (
        (VB,|VBD,|VBG,|VBN,|CD.?,|JJ.?,|\?,){0,2}?
        (N.?,|\?,)+?
    )+?
)*?$
                        </code>
                        </li>
                    </ul>
                </li>
            </ul>
          </section>
        </div>
        <div class="slide">
          <section>
            <header>
              <h2>Neo4j</h2>
            </header>
            <ul class="bulleted">
                <li>Exporting the network using Neo4j REST API</li>
            </ul>
          </section>
        </div>
        <div class="slide">
          <section>
            <header>
              <h2>Explore the network</h2>
            </header>
            <ul class="bulleted">
                <li>Navigating in the network</li>
            </ul>
          </section>
        </div>
        <div class="slide">
          <section>
            <header>
                <h2>To sum up, cablegate_semnet is:</h2>
            </header>
              <ul class="bulleted">
                  <li><p>~1000 lines of Python code, and 5 external libraries</p></li>
                  <li><p>1 full week coding</p></li>
                  <li><p>1 process, a little bit of RAM, billions of http connections to Neo4j REST API</p></li>
                  <li><p>1 network of xx nodes and xx edges</p></li>
                  <li><p>1 talk, 1 FOSDEM, 1 big leak</p></li>
              </ul>
          </section>
        </div>
        <div class="slide">
          <section>
            <header>
              <h2>Thanks</h2>
            </header>
            <p>A special thank to <a href="http://wikileaks.ch/">Wikileaks</a>
            <ul class="bulleted">
                <li>any questions ?</li>
                <li><a href="https://github.com/elishowk/cablegate_semnet">fork me on github</a></li>
                <li><a href="http://gephi.org">get Gephi</a></li>
            <p>Learn more at:</p>
            </ul>
              <ul class="bulleted">
                  <li><a href="http://www.crummy.com/software/BeautifulSoup/">BeautifulSoup</a></li>
                  <li><a href="http://www.nltk.org">NTLK</a></li>
                  <li><a href="http://www.mongodb.org">MongoDB</a></li>
                  <li><a href="http://neo4j.org/">Neo4j</a></li>
                  <li><a href="https://github.com/versae/neo4j-rest-client">neo4j-rest-plugin maintainer, Versae on github</a></li>
                  <li><a href="http://gephi.org/2010/gsoc-2010-mid-term-adding-support-for-neo4j-in-gephi/">Martin Å kurl developer of the Neo4j Gephi plugin</a></li>
                  <li><a href="http://slides.html5rocks.com">html5rocks !</a></li>
              </ul>
          </section>
        </div>
      </div> <!-- slides -->
    </div> <!-- presentation -->
    <!--[if lt IE 9]>
    <script
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">
    </script>
        <script>CFInstall.check({ mode: "overlay" });</script>
    <![endif]-->

  </body>
</html>
